# AquaOS — Autostart Applications

# ─── XDG & Environment ──────────────────────────────────────────────────────

exec-once = bash -c 'export XDG_RUNTIME_DIR="${XDG_RUNTIME_DIR:-/run/user/$(id -u)}"; mkdir -p "$XDG_RUNTIME_DIR" 2>/dev/null; dbus-update-activation-environment --systemd WAYLAND_DISPLAY DISPLAY XDG_CURRENT_DESKTOP XDG_SESSION_TYPE XDG_SESSION_DESKTOP XDG_RUNTIME_DIR HYPRLAND_INSTANCE_SIGNATURE'

# ─── Shell & Widgets ─────────────────────────────────────────────────────────
# Small delay ensures Hyprland socket and environment are fully ready

exec-once = bash -c 'sleep 0.5 && quickshell'
exec-once = bash -c 'sleep 1 && ags run ~/.config/ags'

# ─── Wallpaper ───────────────────────────────────────────────────────────────

exec-once = swww-daemon --format xrgb
exec-once = bash -c 'sleep 1.5 && ~/.local/bin/wallpaper.sh current || swww img ~/Pictures/wallpapers/default.jpg --transition-type grow'

# ─── Dynamic Colors ──────────────────────────────────────────────────────────

exec-once = bash -c 'sleep 2.5 && matugen image "$(cat ~/.cache/macos-mirror/current-wallpaper 2>/dev/null || echo ~/Pictures/wallpapers/default.jpg)" || true'

# ─── Polkit ──────────────────────────────────────────────────────────────────

exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# ─── Clipboard ───────────────────────────────────────────────────────────────

exec-once = wl-paste --type text  --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# ─── Idle & Lock ─────────────────────────────────────────────────────────────

exec-once = hypridle

# ─── Cursor Theme ────────────────────────────────────────────────────────────

exec-once = hyprctl setcursor WhiteSur-cursors 24

# ─── GTK Settings ────────────────────────────────────────────────────────────

exec-once = gsettings set org.gnome.desktop.interface gtk-theme     'WhiteSur-Dark'
exec-once = gsettings set org.gnome.desktop.interface icon-theme    'WhiteSur-dark'
exec-once = gsettings set org.gnome.desktop.interface cursor-theme  'WhiteSur-cursors'
exec-once = gsettings set org.gnome.desktop.interface cursor-size   24
exec-once = gsettings set org.gnome.desktop.interface font-name     'Inter 11'

# ─── XDG User Dirs ───────────────────────────────────────────────────────────

exec-once = xdg-user-dirs-update
